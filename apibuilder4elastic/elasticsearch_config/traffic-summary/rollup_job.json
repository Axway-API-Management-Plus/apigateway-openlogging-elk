{
    "index_pattern": "apigw-traffic-summary*",
    "rollup_index": "apigw-traffic-sum-hourly-rolledup",
    "cron": "0 45 * * * ?",
    "groups": {
    "date_histogram": {
        "fixed_interval": "60m",
        "field": "@timestamp",
        "delay": "240m",
        "time_zone": "UTC"
    },
    "histogram": {
        "interval": 5,
        "fields": [
        "http.bytesSent",
        "http.bytesReceived"
        ]
    },
    "terms": {
        "fields": [
        "finalStatus",
        "http.bytesReceived",
        "http.bytesSent",
        "http.method",
        "http.status",
        "processInfo.gatewayName.keyword",
        "processInfo.gatewayRegion",
        "serviceContext.apiOrg",
        "serviceContext.apiSecurity",
        "serviceContext.apiState",
        "serviceContext.apiVersion",
        "serviceContext.app.keyword",
        "serviceContext.appOrg",
        "serviceContext.backendBasePath",
        "serviceContext.faulthandlerPolicy",
        "serviceContext.method.keyword",
        "serviceContext.requestPolicy",
        "serviceContext.responsePolicy",
        "serviceContext.routingPolicy",
        "serviceContext.service.keyword",
        "transactionId"
        ]
    }
    },
    "metrics": [
    {
        "field": "http.bytesSent",
        "metrics": [
        "sum"
        ]
    },
    {
        "field": "http.bytesReceived",
        "metrics": [
        "sum"
        ]
    },
    {
        "field": "duration",
        "metrics": [
        "avg"
        ]
    }
    ],
    "page_size": 1000
}