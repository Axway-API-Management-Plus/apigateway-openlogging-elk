{
  "fields": {
    "gatewayName": "API-Gateway 3",
    "gatewayRegion": "US"
  },
  "codec": "json_lines",
  "testcases": [
    {
      "description": "Test transactionSummary event for a filetransfer",
      "input": [
        "{\"timestamp\":1599077451272,\"correlationId\":\"4afc4f5fa70015d93db3a15c\",\"processInfo\":{\"hostname\":\"api-env\",\"domainId\":\"ed992442-c363-4d36-963a-9e6314b0f421\",\"groupId\":\"group-2\",\"groupName\":\"QuickStart Group\",\"serviceId\":\"instance-1\",\"serviceName\":\"QuickStart Server\",\"version\":\"7.7.20200730\"},\"transactionSummary\":{\"path\":null, \"protocol\":\"ftp-local\", \"protocolSrc\":\"10021//opt/Axway/APIM-7.7.0/apigateway/groups/group-2/instance-1/file-transfer/in/persistent/abc\", \"status\":\"success\", \"serviceContexts\":[]}}"
      ],
      "expected": [
        {
          "@timestamp": "2020-07-13T20:07:27.467Z",
          "correlationId": "4afc4f5fa70015d93db3a15c",
          "path": null,
          "protocol": null,
          "protocolSrc": "10021//opt/Axway/APIM-7.7.0/apigateway/groups/group-2/instance-1/file-transfer/in/persistent/abc",
          "status": "success",
          "serviceContext": [],
          "processInfo": {
            "hostname": "api-env",
            "domainId": "ed992442-c363-4d36-963a-9e6314b0f421",
            "groupId": "group-2",
            "groupName": "QuickStart Group",
            "serviceId": "instance-1",
            "serviceName": "QuickStart Server",
            "version": "7.7.20200730",
            "gatewayName": "API-Gateway 3", 
            "gatewayRegion": "US"
          },
          "type": "summaryIndex"
        },
        {
          "@timestamp": "2020-07-13T20:07:27.467Z",
          "correlationId": "4afc4f5fa70015d93db3a15c",
          "processInfo": {
            "hostname": "api-env",
            "domainId": "ed992442-c363-4d36-963a-9e6314b0f421",
            "groupId": "group-2",
            "groupName": "QuickStart Group",
            "serviceId": "instance-1",
            "serviceName": "QuickStart Server",
            "version": "7.7.20200730"
          },
          "transactionSummary": {
            "path": null,
            "protocol": "ftp-local",
            "protocolSrc": "10021//opt/Axway/APIM-7.7.0/apigateway/groups/group-2/instance-1/file-transfer/in/persistent/abc",
            "status": "success",
            "serviceContexts": []
          }
        }
      ]
    }
  ]
}
