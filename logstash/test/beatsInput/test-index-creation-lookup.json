{
  "fields": {
    "gatewayName": "API-Gateway 1",
    "gatewayRegion": "EU", 
    "logtype": "trace"
  },
  "codec": "json_lines",
  "testcases": [
    {
      "description": "This should trigger the index creation",
      "input": [
        "{\"timestamp\":1594673918042,\"message\":\"This should create an index\"}"
      ],
      "expected": [ 
        {
          "message": "This should create an index",
          "gatewayName": "API-Gateway 1",
          "gatewayRegion": "EU",
          "host": "fv-az176-282"
        }
      ]
    },
    {
      "description": "A second run should not create the index anymore as it's cached by memcache",
      "input": [
        "{\"timestamp\":1594673918042,\"message\":\"This should create an index\"}"
      ],
      "expected": [ 
        {
          "message": "This should create an index",
          "gatewayName": "API-Gateway 1",
          "gatewayRegion": "EU",
          "host": "fv-az176-282"
        }
      ]
    }
  ]
}
