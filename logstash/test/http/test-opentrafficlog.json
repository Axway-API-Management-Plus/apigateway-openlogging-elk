{
  "fields": {
    "gatewayName": "API-Gateway 3",
    "gatewayRegion": "US"
  },
  "codec": "json_lines",
  "testcases": [
    {
      "description": "JMS leg that should skip any lookups (Checked there is no request tag in the output",
      "input": [
        "{\"timestamp\":1615979426799,\"correlationId\":\"a1e3516071b71fe9e3bdb25b\",\"processInfo\":{\"hostname\":\"api-back-11\",\"domainId\":\"973fdd33-69fd-4a0f-aacf-e430d70da6d3\",\"groupId\":\"group-3\",\"groupName\":\"Back\",\"serviceId\":\"instance-3\",\"serviceName\":\"service.customer.com\",\"version\":\"7.7.20201130\"},\"transactionElement\":{\"leg\":2,\"duration\":0,\"serviceName\":null,\"operation\":null,\"finalStatus\":null,\"protocolInfo\":{\"jms\":{\"jmsMessageID\":\"ID:0180255ae31a25b22-37877-1615931207546-741:1:107:98:1\",\"jmsCorrelationID\":\"Id-a1e3516071b71fe9e3bdb25b\",\"jmsDestination\":\"queue://com.customer.YELLOW.msg.WWSWO.TEST.XYZACEvent_OQ\",\"jmsProviderURL\":\"local\",\"jmsDeliveryMode\":2,\"jmsPriority\":4,\"jmsReplyTo\":\"\",\"jmsRedelivered\":0,\"jmsTimestamp\":1615979426802,\"jmsExpiration\":0,\"jmsType\":\"BytesMessage\",\"jmsStatus\":\"Success\",\"jmsStatusText\":null,\"authSubjectId\":null},\"recvHeader\":null,\"sentHeader\":\"{ \\\"process_id\\\": \\\"DASDS\\\", \\\"status_code\\\": \\\"200\\\", \\\"receiver\\\": \\\"HikYABC\\\", \\\"partner_info\\\": \\\"HikYABC\\\", \\\"sender\\\": \\\"TEST\\\", \\\"web_service_name\\\": \\\"ShipmentStatusService\\\", \\\"transfer_id\\\": \\\"Id-a1e3516071b71fe9e3bdb25b\\\", \\\"contentType\\\": \\\"application\\/json\\\", \\\"direction\\\": \\\"ABCD2API\\\", \\\"timestamp\\\": \\\"1615979425413\\\" }\",\"recvPayload\":null,\"sentPayload\":\"file:///Cloud/shared/Openlogs/2021-03-17/12.10/a1e3516071b71fe9e3bdb25b-2-sent\"}}}"
      ],
      "expected": [
        {
          "@timestamp": "2021-03-17T11:10:26.799Z",
          "correlationId": "a1e3516071b71fe9e3bdb25b",
          "processInfo": {
            "gatewayName": "API-Gateway 3",
            "gatewayRegion": "US",
            "groupId": "group-3",
            "groupName": "Back",
            "hostname": "api-back-11",
            "serviceId": "instance-3",
            "version": "7.7.20201130"
          },
          "transactionElements": {
            "leg2": {
              "duration": 0,
              "finalStatus": null,
              "leg": 2,
              "protocolInfo": {
                "jms": {
                  "authSubjectId": null,
                  "jmsCorrelationID": "Id-a1e3516071b71fe9e3bdb25b",
                  "jmsDeliveryMode": 2,
                  "jmsDestination": "queue://com.customer.YELLOW.msg.WWSWO.TEST.XYZACEvent_OQ",
                  "jmsExpiration": 0,
                  "jmsMessageID": "ID:0180255ae31a25b22-37877-1615931207546-741:1:107:98:1",
                  "jmsPriority": 4,
                  "jmsProviderURL": "local",
                  "jmsRedelivered": 0,
                  "jmsReplyTo": "",
                  "jmsStatus": "Success",
                  "jmsStatusText": null,
                  "jmsTimestamp": 1615979426802,
                  "jmsType": "BytesMessage"
                },
                "recvHeader": null,
                "recvPayload": null,
                "sentHeader": "{ \"process_id\": \"DASDS\", \"status_code\": \"200\", \"receiver\": \"HikYABC\", \"partner_info\": \"HikYABC\", \"sender\": \"TEST\", \"web_service_name\": \"ShipmentStatusService\", \"transfer_id\": \"Id-a1e3516071b71fe9e3bdb25b\", \"contentType\": \"application\\/json\", \"direction\": \"ABCD2API\", \"timestamp\": \"1615979425413\" ",
                "sentPayload": "file:///Cloud/shared/Openlogs/2021-03-17/12.10/a1e3516071b71fe9e3bdb25b-2-sent"
              }
            }
          }
        }
      ]
    }
  ]
}
